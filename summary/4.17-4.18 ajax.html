<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>this,面向对象</title>
		<link rel="stylesheet" href="../css/index.css" />
		<link rel="stylesheet" type="text/css" href="../css/style.css">
	</style>
	</head>
	<body >
		<!--头部-->
		<div class="head">
			<div class="head_nav">XiaoPang</div>
			<ul>
				<li><a href="#">JavaScript</a></li>
				<li><a href="#">css</a></li>
				<li><a href="#">html</a></li>
				<li><a href="../index.html">首页</a></li>
			</ul>
		</div>
		<div class="box">
			<div class="left">
				<h2>Ajax  (Asychronous Javascript And Xml)</h2>
				<ul class="first">
					<li>Ajax 不是新的编程语言，而是一种使用现有标准的新方法。<br/>
						Ajax 是与服务器交换数据并更新部分网页的艺术，在不重新加载整个页面的情况下。
					</li>
					<li>Ajax 是一种用于创建快速动态网页的技术。<br/>通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。<br/>传统的网页（不使用 AJAX）如果需要更新内容，必需重载整个网页面。</li>
					<li>Ajax的工作原理：相当于在用户和服务器之间加了—个中间层(AJAX引擎),使用户操作与服务器响应异步化。并不是所有的用户请求都提交给服务器,像—些数据验证和数据处理等都交给Ajax引擎自己来做, 只有确定需要从服务器读取新数据时再由Ajax引擎代为向服务器提交请求。</li>
					<li>Ajax的优点
						<ul class="second">
							<li>无刷新更新数据,用户体验好:AJAX最大优点就是能在不刷新整个页面的前提下与服务器通信维护数据。这使得Web应用程序更为迅捷地响应用户交互，并避免了在网络上发送那些没有改变的信息，减少用户等待时间，带来非常好的用户体验。</li>
							<li>异步与服务器通信:AJAX使用异步方式与服务器通信，不需要打断用户的操作，具有更加迅速的响应能力。优化了Browser和Server之间的沟通，减少不必要的数据传输、时间及降低网络上数据流量。</li>
							<li>前端和后端负载平衡:AJAX可以把以前一些服务器负担的工作转嫁到客户端，利用客户端闲置的能力来处理，减轻服务器和带宽的负担，节约空间和宽带租用成本。并且减轻服务器的负担，AJAX的原则是“按需取数据”，可以最大程度的减少冗余请求和响应对服务器造成的负担，提升站点性能。</li>
							<li>基于标准被广泛支持:AJAX基于标准化的并被广泛支持的技术，不需要下载浏览器插件或者小程序，但需要客户允许JavaScript在浏览器上执行。随着Ajax的成熟，一些简化Ajax使用方法的程序库也相继问世。同样，也出现了另一种辅助程序设计的技术，为那些不支持JavaScript的用户提供替代功能。</li>
							<li>界面与应用分离:Ajax使WEB中的界面与应用分离（也可以说是数据与呈现分离），有利于分工合作、减少非技术人员对页面的修改造成的WEB应用程序错误、提高效率、也更加适用于现在的发布系统。</li>
						</ul>
					</li>
					<li>AJAX的缺点
						<ul class="second">
							<li>AJAX干掉了Back和History功能，即对浏览器机制的破坏</li>
							<li>AJAX的安全问题：AJAX技术给用户带来很好的用户体验的同时也对IT企业带来了新的安全威胁，Ajax技术就如同对企业数据建立了一个直接通道。这使得开发者在不经意间会暴露比以前更多的数据和服务器逻辑。Ajax的逻辑可以对客户端的安全扫描技术隐藏起来，允许黑客从远端服务器上建立新的攻击。还有Ajax也难以避免一些已知的安全弱点，诸如跨站点脚步攻击、SQL注入攻击和基于Credentials的安全漏洞等等</li>
							<li>对搜索引擎支持较弱对搜索引擎的支持比较弱。如果使用不当，AJAX会增大网络数据的流量，从而降低整个系统的性能。</li>
							<li>破坏程序的异常处理机制</li>
							<li>违背URL和资源定位的初衷:例如，我给你一个URL地址，如果采用了Ajax技术，也许你在该URL地址下面看到的和我在这个URL地址下看到的内容是不同的。这个和资源定位的初衷是相背离的。</li>
							<li>AJAX不能很好支持移动设备</li>
							<li>客户端过肥，太多客户端代码造成开发上的成本</li>
						</ul>
					</li>
					<li>Ajax运行步骤
						<pre class="example">
						//声明变量存储XMLHttpRequest,返回XMLHttpRequest对象
						var xhr = new XMLHttpRequest();
						<span class="font">以下判断是为了解决兼容的问题</span>
						if (window.XMLHttpRequest)
						  {// code for IE7+, Firefox, Chrome, Opera, Safari
						  xmlhttp=new XMLHttpRequest();
						  }else {// code for IE6, IE5
						  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
						  }
						//侦听服务器返回
						//onreadyststechange在服务器返回数据成功时触发
						xhr.onreadystatechange = function(){
							//处理服务器返回数据
							if(xhr.readyState == 4){
								if(xhr.status == 200){
									//服务器返回的正确数据
									console.log(xhr.response);
									document.getElementById("myDiv").innerHTML=xhr.response;
								}
							}
						}
						//指向服务器地址，获取数据方式
						xhr.open("GET","txt.txt");
						//发送数据
						xhr.send("{name:'ciaoxiannv'}");//或者不写（相当于写null）xhr.send()、xhr.send(null)
						</pre>
					</li>
					<li>Ajax状态值说明(onreadystatechange 事件)
						<ul class="second">
							<li>0: 请求未初始化,还没有调用send()方法</li>
							<li>1: 服务器连接已建立,已调用send()方法</li>
							<li>2: 请求已接收,send()方法执行完成</li>
							<li>3: 请求处理中</li>
							<li>4: 请求已完成，且响应已就绪</li>
							<div class="font">对于上面的状态，其中“0”状态是在定义后自动具有的状态值，而对于成功访问的状态（得到信息）我们大多数采用“4”进行判断。</div>
						</ul>
					</li>
					<li>Ajax状态码说明
						<ul class="second">
							<li>1**：服务器已建立，请求收到，继续处理</li>
							<li>2**：操作成功收到，分析、接受</li>
							<li>3**：完成此请求必须进一步处理(重定向)</li>
							<li>4**：客户端错误，请求包含一个错误语法或不能完成</li>
							<li>5**：服务器执行一个完全有效请求失败</li>
						</ul>
					</li>
					<li>终止请求/请求超时
						<pre class="example">
						xhr.timeout = 3000;
						xhr.ontimeout = function(){
							xhr.abort();
						}
						xhr.onabort = function(){
							alert("请求超时");
						}
						</pre>
					</li>
					<li>适用场景
						<br />表单驱动的交互
						<br />深层次的树的导航
						<br />快速的用户与用户间的交流响应
						<br />类似投票、yes/no等无关痛痒的场景
						<br />对数据进行过滤和操纵相关数据的场景
						<br />普通的文本输入提示和自动完成的场景
					</li>
					<li>不适用场景
						<ul class="second">
							<li>部分简单的表单</li>
							<li>搜索</li>
							<li>基本的导航</li>
							<li>替换大量的文本</li>
							<li>对呈现的操纵</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
		<!--页脚-->
		<div class="footer">
			<div class="footer_main">
				<div class="f_text2">我也不知道这里要写什么</div>
			</div>
		</div>
	</body>
</html>
